import 'package:dartz/dartz.dart';import 'package:dio/dio.dart';import '../../../../Core/Network/Local/cash_helper.dart';import '../../../../Core/Network/Local/local_string.dart';import '../../../../Core/Network/Remote/dio.dart';import '../../../../Core/Network/Remote/endpoints.dart';import '../../../../Core/Utils/Errors/failure.dart';import '../../data/models/login_model.dart';import '../../data/models/sing_up_model.dart';import '../../data/repositories/authentication_repo.dart';class AuthenticationRepoImpl extends AuthenticationRepo {  @override  Future<Either<Failure, LoginModel>> fetchLogin({    required String phone,    required String password,  }) async {    try {      var data = await DioHelper.postData(path: AppEndPoint.login, data: {        "phone": phone,        "password": password,      });      if (data.statusCode != null && data.statusCode! < 300) {        CashHelper.saveData(            key: LocalString.token, value: data.data["access_token"]);        CashHelper.saveData(            value: data.data["refresh_token"], key: LocalString.refreshToken);        // print('Saved Tokens');      }      return right(LoginModel.fromJson(data.data));    } catch (e) {      if (e is DioException) {        return left(ServerFailure.fromDioError(e));      } else {        return left(ServerFailure.fromResponse(e.hashCode, e));      }    }  }  @override  Future<Either<Failure, SingUpModel>> fetchRegister({    required String name,    required num experienceYears,    required String address,    required String level,    required String phone,    required String password,  }) async {    try {      final singUpModel = SingUpModel(        displayName: name,        password: password,        phone: phone,        level: level,        experienceYears: experienceYears,        address: address,      );      var data = await DioHelper.postData(          path: AppEndPoint.register, data: singUpModel.toJson());      if (data.statusCode != null && data.statusCode! < 300) {        CashHelper.saveData(            key: LocalString.token, value: data.data["access_token"]);        CashHelper.saveData(            value: data.data["refresh_token"], key: LocalString.refreshToken);      }      return right(SingUpModel.fromJson(data.data));    } catch (e) {      if (e is DioException) {        return left(ServerFailure.fromDioError(e));      } else {        return left(ServerFailure.fromResponse(e.hashCode, e));      }    }  }}