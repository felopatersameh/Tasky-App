import 'package:dartz/dartz.dart';import 'package:dio/dio.dart';import 'package:tasky/Core/Utils/Errors/failure.dart';import '../../../../Core/Network/Local/cachehelper.dart';import '../../../../Core/Network/Remote/dio.dart';import '../../../../Core/Network/Remote/endpoints.dart';import '../../../../Core/Resources/auth.dart';import '../../data/repositories/task_repo.dart';class TaskRepoImpl implements TaskRepo {  @override  Future<Either<Failure, bool>> removeTask({required String id}) async {    try {      String token = CashHelper.getData(        key: 'Token',      );      await DioHelper.deleteData(          path: '${AppEndPoint.delete}/$id', token: token);      return right(true);    } catch (e) {      if (e is DioException) {        if (e.response?.statusCode == 401) {          String? newToken = await refreshToken();          if (newToken != null) {            return removeTask(id: id);          } else {            return left(ServerFailure.fromDioError(e));          }        } else {          return left(ServerFailure.fromDioError(e));        }      } else {        return left(ServerFailure.fromResponse(e.hashCode, e));      }    }  }}